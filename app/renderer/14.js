(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"./node_modules/antd/es/auto-complete/index.js":function(e,_,t){"use strict";var a=t("./node_modules/react/index.js"),n=t("./node_modules/rc-util/es/Children/toArray.js"),r=t("./node_modules/classnames/index.js"),i=t.n(r),o=t("./node_modules/omit.js/es/index.js"),s=t("./node_modules/antd/es/select/index.js"),d=t("./node_modules/antd/es/config-provider/context.js"),l=t("./node_modules/antd/es/_util/warning.js");function E(){return(E=Object.assign||function(e){for(var _=1;_<arguments.length;_++){var t=arguments[_];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=s.a.Option,p=s.a;function P(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var O=a.forwardRef((function(e,_){var t,r=e.prefixCls,O=e.className,M=e.children,D=e.dataSource,m=Object(n.a)(M),h=a.useRef();a.useImperativeHandle(_,(function(){return h.current})),1===m.length&&a.isValidElement(m[0])&&!P(m[0])&&(t=m[0]);var f,b=function(){return t};return f=m.length&&P(m[0])?M:D?D.map((function(e){if(a.isValidElement(e))return e;switch(c(e)){case"string":return a.createElement(u,{key:e,value:e},e);case"object":var _=e.value;return a.createElement(u,{key:_,value:_},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],a.useEffect((function(){Object(l.a)(!("dataSource"in e),"AutoComplete","`dataSource` is deprecated, please use `options` instead."),Object(l.a)(!t||!("size"in e),"AutoComplete","You need to control style self instead of setting `size` when using customize input.")}),[]),a.createElement(d.a,null,(function(_){var t=(0,_.getPrefixCls)("select",r);return a.createElement(p,E({ref:h},Object(o.a)(e,["dataSource"]),{prefixCls:t,className:i()(O,"".concat(t,"-auto-complete")),mode:s.a.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:b}),f)}))}));O.Option=u,_.a=O},"./node_modules/antd/es/divider/index.js":function(e,_,t){"use strict";var a=t("./node_modules/react/index.js"),n=t("./node_modules/classnames/index.js"),r=t.n(n),i=t("./node_modules/antd/es/config-provider/context.js");function o(){return(o=Object.assign||function(e){for(var _=1;_<arguments.length;_++){var t=arguments[_];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function s(e,_,t){return _ in e?Object.defineProperty(e,_,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[_]=t,e}var d=function(e,_){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&_.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)_.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]])}return t};_.a=function(e){return a.createElement(i.a,null,(function(_){var t,n=_.getPrefixCls,i=e.prefixCls,l=e.type,E=void 0===l?"horizontal":l,c=e.orientation,u=void 0===c?"center":c,p=e.className,P=e.children,O=e.dashed,M=d(e,["prefixCls","type","orientation","className","children","dashed"]),D=n("divider",i),m=u.length>0?"-".concat(u):u,h=r()(p,D,"".concat(D,"-").concat(E),(s(t={},"".concat(D,"-with-text").concat(m),P),s(t,"".concat(D,"-dashed"),!!O),t));return a.createElement("div",o({className:h},M,{role:"separator"}),P&&a.createElement("span",{className:"".concat(D,"-inner-text")},P))}))}},"./node_modules/antd/es/popover/index.js":function(e,_,t){"use strict";var a=t("./node_modules/react/index.js"),n=t("./node_modules/antd/es/tooltip/index.js"),r=t("./node_modules/antd/es/config-provider/context.js"),i=function(e){return e?"function"==typeof e?e():e:null};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var _=1;_<arguments.length;_++){var t=arguments[_];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function d(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function l(e,_){for(var t=0;t<_.length;t++){var a=_[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,_){return(E=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}function c(e,_){return!_||"object"!==o(_)&&"function"!=typeof _?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):_}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.d(_,"a",(function(){return O}));var P=function(e,_){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&_.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)_.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]])}return t},O=function(e){!function(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&E(e,_)}(D,e);var _,t,o,O,M=(_=D,function(){var e,t=p(_);if(u()){var a=p(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return c(this,e)});function D(){var e;return d(this,D),(e=M.apply(this,arguments)).saveTooltip=function(_){e.tooltip=_},e.renderPopover=function(_){var t=_.getPrefixCls,r=e.props,i=r.prefixCls,o=P(r,["prefixCls"]);delete o.title;var d=t("popover",i);return a.createElement(n.a,s({},o,{prefixCls:d,ref:e.saveTooltip,overlay:e.getOverlay(d)}))},e}return t=D,(o=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"getOverlay",value:function(e){var _=this.props,t=_.title,n=_.content;return a.createElement(a.Fragment,null,t&&a.createElement("div",{className:"".concat(e,"-title")},i(t)),a.createElement("div",{className:"".concat(e,"-inner-content")},i(n)))}},{key:"render",value:function(){return a.createElement(r.a,null,this.renderPopover)}}])&&l(t.prototype,o),O&&l(t,O),D}(a.Component);O.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}}},"./src/renderer/routes/Snippet/Config/index.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-jsx/style.js"),styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__),_ant_design_compatible__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ant-design/compatible/es/form/index.js"),_ant_design_compatible_assets_index_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ant-design/compatible/assets/index.css"),_ant_design_compatible_assets_index_css__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_ant_design_compatible_assets_index_css__WEBPACK_IMPORTED_MODULE_3__),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/antd/es/select/index.js"),antd__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/antd/es/message/index.js"),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/antd/es/row/index.js"),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/antd/es/col/index.js"),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/antd/es/input/index.js"),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),lodash__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__),dva__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/dva/index.js"),dva__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_11__),_shared_language__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/shared/language/index.js"),_shared_debug__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/shared/debug.js"),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const FormItem=_ant_design_compatible__WEBPACK_IMPORTED_MODULE_2__.a.Item,Option=antd__WEBPACK_IMPORTED_MODULE_4__.a.Option;class SnippetConfig extends react__WEBPACK_IMPORTED_MODULE_9___default.a.PureComponent{constructor(e){super(e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateSnippet",async(e,_)=>{this.props.dispatch({type:"snippet/updateSnippet",payload:{...e,key:_}})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"setConfig",lodash__WEBPACK_IMPORTED_MODULE_10___default.a.debounce(e=>{this.props.form.validateFields((_,t)=>{if(!_){if(t.abbr&&t.abbr.indexOf("/")>-1||t.abbr&&/[\u4e00-\u9fa5]/.test(t.abbr))return antd__WEBPACK_IMPORTED_MODULE_5__.a.warn(Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("once.basic.regex.snippet.config")),void this.props.toggleRunScript(!1);this.updateSnippet(t,e)}this.props.toggleRunScript(!1)})},this.props.updateContentTimeout)),this.state={}}render(){Object(_shared_debug__WEBPACK_IMPORTED_MODULE_13__.a)("[SnippetConfig] rendering...");const{tab:e,form:_,banConfig:t}=this.props,{getFieldDecorator:a}=_;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"jsx-2615692286 snippet-config-form"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_ant_design_compatible__WEBPACK_IMPORTED_MODULE_2__.a,{layout:"horizontal"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_7__.a,{xs:7},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(FormItem,{style:{textAlign:"center"}},a("env",{rules:[{required:!0}],initialValue:e.env||"plain"})(react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{disabled:t,onSelect:()=>{this.props.toggleRunScript(!0),this.setConfig(`${e.id}_${e.sid}`)},style:{minWidth:100}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Option,{value:"rich"},Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("snippet.rich")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Option,{value:"plain"},Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("snippet.plain")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Option,{value:"js"},Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("snippet.js")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Option,{value:"shell"},Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("snippet.shell")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Option,{value:"python"},Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("snippet.python")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Option,{value:"applescript"},Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("snippet.applescript")))))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_7__.a,{xs:17},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(FormItem,{style:{textAlign:"center",paddingLeft:5,marginRight:0}},a("abbr",{initialValue:e.abbr})(react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{disabled:t,addonBefore:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("i",{className:"jsx-2615692286 iconfont icon-abbr"}),placeholder:Object(_shared_language__WEBPACK_IMPORTED_MODULE_12__.a)("snippet.abbreviation"),onChange:()=>{this.props.toggleRunScript(!0),this.setConfig(`${e.id}_${e.sid}`)}})))))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default.a,{id:"2615692286"},".snippet-config-form.jsx-2615692286 .ant-legacy-form-item{margin-bottom:0 !important;}"))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Object(dva__WEBPACK_IMPORTED_MODULE_11__.connect)()(_ant_design_compatible__WEBPACK_IMPORTED_MODULE_2__.a.create()(SnippetConfig));var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(FormItem,"FormItem","/Users/dxu/job/once/src/renderer/routes/Snippet/Config/index.jsx"),reactHotLoader.register(Option,"Option","/Users/dxu/job/once/src/renderer/routes/Snippet/Config/index.jsx"),reactHotLoader.register(SnippetConfig,"SnippetConfig","/Users/dxu/job/once/src/renderer/routes/Snippet/Config/index.jsx"),reactHotLoader.register(_default,"default","/Users/dxu/job/once/src/renderer/routes/Snippet/Config/index.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Header/index.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),antd__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/antd/es/layout/index.js"),antd__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/antd/es/message/index.js"),antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/antd/es/divider/index.js"),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/antd/es/row/index.js"),antd__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/antd/es/col/index.js"),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/antd/es/popover/index.js"),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/antd/es/tag/index.js"),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/antd/es/input/index.js"),antd__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/antd/es/tooltip/index.js"),antd__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/antd/es/auto-complete/index.js"),_components_Copy_CopyPage__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/renderer/components/Copy/CopyPage.jsx"),react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__),lodash__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_13__),dva__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/dva/index.js"),dva__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_14__),_util_main_mid__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/renderer/util/main.mid.js"),_shared_language__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/shared/language/index.js"),_shared_debug__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/shared/debug.js"),electron__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("electron"),electron__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(electron__WEBPACK_IMPORTED_MODULE_18__),_components_Svg__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/renderer/components/Svg/index.jsx"),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const{Header:Header}=antd__WEBPACK_IMPORTED_MODULE_1__.a;class SnippetHeader extends react__WEBPACK_IMPORTED_MODULE_12___default.a.PureComponent{constructor(e){super(e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateState",({description:e,tags:_,link:t})=>{this.setState({description:e,tags:_?lodash__WEBPACK_IMPORTED_MODULE_13___default.a.isString(_)?[_]:_:[],link:t})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"handleClose",e=>{const _=this.state.tags.filter(_=>_!==e);this.setState({tags:_}),_!==this.state.tags&&this.updateSnippet({tags:_},this.props.activeTab)}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"showInput",()=>{this.setState({tagVisible:!0},()=>this.input.focus())}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"showDescription",()=>{this.setState({descriptionVisible:!0},()=>this.desc.focus())}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"changeGroup",e=>{this.setState({tagValue:e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"changeDescription",e=>{this.setState({description:e.target.value})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"saveSwitchGroup",async e=>{let{tagValue:_,tags:t}=this.state;e!==_&&(e&&(_=e),_&&-1===t.indexOf(_)&&(t=[_]),this.setState({tags:t,tagVisible:!1,tagValue:_}),t!==this.state.tags&&(await _util_main_mid__WEBPACK_IMPORTED_MODULE_15__.db.setGroup(_),this.updateSnippet({tags:t},this.props.activeTab)))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"saveDescription",()=>{const{description:e}=this.state;this.setState({descriptionVisible:!1,description:e}),e!==this.props.description&&this.updateSnippet({description:e},this.props.activeTab)}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"saveInputRef",e=>this.input=e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"saveDescRef",e=>this.desc=e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateSnippet",(e,_)=>{this.props.dispatch({type:"snippet/updateSnippet",payload:{...e,key:_}})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderExtraFunction",e=>react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_12___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:{cursor:"pointer"},onClick:()=>{e?electron__WEBPACK_IMPORTED_MODULE_18__.shell.openExternal(e):antd__WEBPACK_IMPORTED_MODULE_2__.a.info(Object(_shared_language__WEBPACK_IMPORTED_MODULE_16__.a)("once.basic.remote.edit.tip"))}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_19__.a,{icon:"icon-ce-online",style:{marginRight:5}}),Object(_shared_language__WEBPACK_IMPORTED_MODULE_16__.a)("once.basic.remote.edit"))),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a,{style:{margin:"10px 0"}}),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Copy_CopyPage__WEBPACK_IMPORTED_MODULE_11__.default,{text:e,onCopy:()=>{antd__WEBPACK_IMPORTED_MODULE_2__.a.success(""+Object(_shared_language__WEBPACK_IMPORTED_MODULE_16__.a)("once.basic.copy"))}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:{cursor:"pointer"}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_19__.a,{icon:"icon-ce-share",style:{marginRight:5}}),Object(_shared_language__WEBPACK_IMPORTED_MODULE_16__.a)("once.basic.copy.link")))),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a,{style:{margin:"10px 0"}}),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:{cursor:"pointer"},onClick:e=>{e&&e.preventDefault(),electron__WEBPACK_IMPORTED_MODULE_18__.shell.openExternal("https://greasyfork.org/zh-CN/scripts/371928-oncework-helper")}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_19__.a,{icon:"icon-ce-liulanqi",style:{fontSize:16,marginLeft:2,marginRight:5}}),Object(_shared_language__WEBPACK_IMPORTED_MODULE_16__.a)("once.basic.install.plugin"))))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onSwitchGroup",e=>{this.props.dispatch({type:"gist/updateStatus",payload:{menuSelect:"GROUP_"+e}}),this.props.dispatch({type:"layout/updateStatus",payload:{openSnippetGroupKey:"GROUP_"+e}})}),this.state={tags:[],tagValue:"",tagVisible:!1,description:"",descriptionVisible:!1,link:""}}componentDidMount(){this.updateState(this.props)}componentWillReceiveProps(e){this.updateState(e)}render(){Object(_shared_debug__WEBPACK_IMPORTED_MODULE_17__.a)("[SnippetHeader] rendering...");const{link:e,tags:_,tagVisible:t,tagValue:a,description:n,descriptionVisible:r}=this.state,{tagType:i}=this.props;return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{className:"snippet-config-header"},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_5__.a,{xs:12},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(Header,{className:"header"},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_6__.a,{content:this.renderExtraFunction(e)},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:{display:"inline"}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_19__.a,{icon:"icon-ce-online"}))),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_7__.a,{className:"snippet-config-header-title",onClick:this.showDescription,style:{width:"calc(100% - 50px)"}},!r&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",null,n||Object(_shared_language__WEBPACK_IMPORTED_MODULE_16__.a)("once.basic.info.less")),r&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{ref:this.saveDescRef,type:"text",size:"small",style:{width:"100%",display:"inline"},value:n,onChange:this.changeDescription,onBlur:this.saveDescription,onPressEnter:this.saveDescription})))),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_5__.a,{xs:12},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:"snippet-config-header-tag"},_.map(e=>{const _=e.length>20,t=react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_7__.a,{key:e,onClick:this.onSwitchGroup.bind(this,e),onClose:()=>this.handleClose(e),color:"green"},_?e.slice(0,20)+"...":e);return _?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{title:e,key:e},t):t}),t&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_10__.a,{open:!0,type:"text",size:"small",defaultActiveFirstOption:!1,dataSource:i,ref:this.saveInputRef,style:{width:100,right:7,marginLeft:7},onChange:this.changeGroup,onSelect:async e=>{e&&await this.saveSwitchGroup(e)}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"text",size:"small",value:a,onKeyDown:async e=>{13===e.keyCode&&await this.saveSwitchGroup()},onBlur:async()=>{await this.saveSwitchGroup()}})),!t&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_7__.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed",cursor:"pointer"}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_19__.a,{icon:"icon-ce-qiehuan",style:{fontSize:12}})))))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Object(dva__WEBPACK_IMPORTED_MODULE_14__.connect)(({gist:{tagType:e}})=>({tagType:e}))(SnippetHeader);var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Header,"Header","/Users/dxu/job/once/src/renderer/routes/Snippet/Header/index.jsx"),reactHotLoader.register(SnippetHeader,"SnippetHeader","/Users/dxu/job/once/src/renderer/routes/Snippet/Header/index.jsx"),reactHotLoader.register(_default,"default","/Users/dxu/job/once/src/renderer/routes/Snippet/Header/index.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/index.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-jsx/style.js"),styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__),antd__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/antd/es/tabs/index.js"),antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/antd/es/modal/index.js"),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/antd/es/button/index.js"),antd__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/antd/es/message/index.js"),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/antd/es/divider/index.js"),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/antd/es/popover/index.js"),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/antd/es/row/index.js"),antd__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/antd/es/col/index.js"),_shared__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/index.js"),react_hot_keys__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-hot-keys/es/index.js"),_components_Loading_LoadingPage__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/renderer/components/Loading/LoadingPage.jsx"),_components_Loading_LoadingIcon__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/renderer/components/Loading/LoadingIcon.jsx"),react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_Config__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/renderer/routes/Snippet/Config/index.jsx"),_Header__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/renderer/routes/Snippet/Header/index.jsx"),_ToolBar__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/renderer/routes/Snippet/ToolBar/index.jsx"),lodash__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_18__),dva__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/dva/index.js"),dva__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_19__),next_dynamic__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/next/dynamic.js"),next_dynamic__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_20__),_shared_language__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/shared/language/index.js"),_shared_debug__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/shared/debug.js"),_util_main_mid_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/renderer/util/main.mid.js"),_components_Svg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/renderer/components/Svg/index.jsx"),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const Neditor=next_dynamic__WEBPACK_IMPORTED_MODULE_20___default()(()=>new Promise(e=>{__webpack_require__.e(9).then((_=>{e(__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/index.js"))}).bind(null,__webpack_require__)).catch(__webpack_require__.oe)}),{loading:()=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Loading_LoadingIcon__WEBPACK_IMPORTED_MODULE_13__.a,null)}),SnippetEditor=next_dynamic__WEBPACK_IMPORTED_MODULE_20___default()(()=>new Promise(e=>{Promise.resolve().then((_=>{e(__webpack_require__("./src/renderer/routes/Snippet/Editor/MonacoEditor.jsx"))}).bind(null,__webpack_require__)).catch(__webpack_require__.oe)}),{loading:()=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Loading_LoadingIcon__WEBPACK_IMPORTED_MODULE_13__.a,null)}),MarkdownEditor=next_dynamic__WEBPACK_IMPORTED_MODULE_20___default()(()=>new Promise(e=>{Promise.all([__webpack_require__.e(0),__webpack_require__.e(6),__webpack_require__.e(23)]).then((_=>{e(__webpack_require__("./src/renderer/routes/Snippet/Editor/MarkdownEditor/index.jsx"))}).bind(null,__webpack_require__)).catch(__webpack_require__.oe)}),{loading:()=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Loading_LoadingIcon__WEBPACK_IMPORTED_MODULE_13__.a,null)}),SnippetCreateCodePic=next_dynamic__WEBPACK_IMPORTED_MODULE_20___default()(()=>new Promise(e=>{Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(5),__webpack_require__.e(7)]).then((_=>{e(__webpack_require__("./src/renderer/routes/Snippet/Config/CreateCodePic.jsx"))}).bind(null,__webpack_require__)).catch(__webpack_require__.oe)}),{loading:()=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Loading_LoadingIcon__WEBPACK_IMPORTED_MODULE_13__.a,null)}),SnippetEditFilename=next_dynamic__WEBPACK_IMPORTED_MODULE_20___default()(()=>new Promise(e=>{__webpack_require__.e(296).then((_=>{e(__webpack_require__("./src/renderer/routes/Snippet/File/EditFilename.jsx"))}).bind(null,__webpack_require__)).catch(__webpack_require__.oe)}),{loading:()=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Loading_LoadingIcon__WEBPACK_IMPORTED_MODULE_13__.a,null)}),SnippetInnerCreate=next_dynamic__WEBPACK_IMPORTED_MODULE_20___default()(()=>new Promise(e=>{__webpack_require__.e(22).then((_=>{e(__webpack_require__("./src/renderer/routes/Snippet/File/InnerCreate.jsx"))}).bind(null,__webpack_require__)).catch(__webpack_require__.oe)}),{loading:()=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Loading_LoadingIcon__WEBPACK_IMPORTED_MODULE_13__.a,null)}),{TabPane:TabPane}=antd__WEBPACK_IMPORTED_MODULE_2__.a,confirm=antd__WEBPACK_IMPORTED_MODULE_3__.a.confirm,ButtonGroup=antd__WEBPACK_IMPORTED_MODULE_4__.a.Group;class snippet extends react__WEBPACK_IMPORTED_MODULE_14___default.a.PureComponent{constructor(e){super(e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"handleResize",()=>{this.setState({needReMount:this.state.needReMount+1})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getMarkdownEditor",()=>this.markdownEditor),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getSnippetEditor",()=>this.snippetEditor),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getSnippetNEditor",()=>this.snippetNEditor),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getSnippetTool",()=>this.snippetTool),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateSnippetStatus",e=>{this.props.dispatch({type:"snippet/updateStatus",payload:{...e}})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateSnippet",lodash__WEBPACK_IMPORTED_MODULE_18___default.a.debounce((e,_)=>{this.props.dispatch({type:"snippet/updateSnippet",payload:{...e,key:_}})},250)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onEdit",(e,_)=>{"add"===_&&this.toggleSnippetInnerCreate(),"remove"===_&&(this.deleteFile(e),this.toggleSnippetEditFilename())}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"toggleSnippetInnerCreate",()=>{const{innerCreateVisible:e}=this.state;this.setState({innerCreateVisible:!e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"toggleSnippetEditFilename",()=>{const{editFilenameVisible:e}=this.state;this.setState({editFilenameVisible:!e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"toggleCreateCodePic",()=>{const{createCodePic:e}=this.state;this.setState({createCodePic:!e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"deleteFile",e=>{const _=this.props.dispatch,t=this.updateSnippet;confirm({title:""+Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("snippet.tabs.remove.title"),content:""+Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("snippet.tabs.remove.content"),okText:""+Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("once.basic.yes"),okType:"danger",cancelText:""+Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("once.basic.no"),onOk(){_({type:"gist/removeSnippet",payload:{key:e}}),t({isRemoveFile:!0},e)},onCancel(){}})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"runScript",()=>{this.toggleRunScript(!0),this.props.dispatch({type:"snippet/runScript"})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"toggleRunScript",e=>{lodash__WEBPACK_IMPORTED_MODULE_18___default.a.isNil(e)?this.updateSnippetStatus({runLoading:!this.props.runLoading}):this.updateSnippetStatus({runLoading:e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"ornTabTitle",e=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",null,e,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"snippet-tab-edit",onClick:()=>this.toggleSnippetEditFilename(e)},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_24__.a,{icon:"icon-ce-more",style:{fontSize:13,marginLeft:2}})))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateFileName",e=>{this.updateSnippet({filename:e},this.state.activeTab)}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderRunScript",()=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react_hot_keys__WEBPACK_IMPORTED_MODULE_11__.a,{keyName:"alt+r",onKeyDown:this.runScript},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{type:"primary",loading:this.props.runLoading,onClick:this.runScript,style:{display:"flex",alignItems:"center"}},!this.props.runLoading&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_24__.a,{icon:"icon-ce-execute",style:{marginRight:5,fontSize:20}}),Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("snippet.run")))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"toggleEditMdStatus",()=>{this.state.editMdStatus&&this.onInnerColumn(),this.setState(({editMdStatus:e})=>({editMdStatus:!e}))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onHiddenState",e=>{this.props.dispatch({type:"layout/hiddenLayout",payload:{hidden:Array.isArray(e)?e:[e]}})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onOnceColumn",()=>{this.onHiddenState("once"!==this.state.columnLayout),this.setState(({editMdStatus:e,columnLayout:_})=>({editMdStatus:"once"!==_,columnLayout:"once"===_?"inner":"once"}))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onTwoColumn",e=>{if(!1===e)return antd__WEBPACK_IMPORTED_MODULE_5__.a.warning(Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("markdown-icon-double-column-tip"));this.onHiddenState("two"!==this.state.columnLayout),this.setState(({editMdStatus:e,columnLayout:_})=>({editMdStatus:"two"!==_,columnLayout:"two"===_?"inner":"two"}))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onInnerColumn",()=>{this.onHiddenState(!1),this.setState(({editMdStatus:e,columnLayout:_})=>({editMdStatus:!0,columnLayout:"inner"}))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderEditorStatusContent",e=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{style:{cursor:"pointer"},onClick:this.onOnceColumn},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("i",{className:"iconfont icon-once-column",style:{marginRight:20,fontSize:20,verticalAlign:"middle"}}),Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("markdown-icon-once-column")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_6__.a,{style:{margin:"5px 0 0 0"}}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{style:{cursor:"pointer"},onClick:this.onTwoColumn.bind(this,e)},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("i",{className:"iconfont icon-double-column",style:{marginRight:18,fontSize:20,verticalAlign:"middle"}}),Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("markdown-icon-double-column")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_6__.a,{style:{margin:"5px 0 0 0"}}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{style:{cursor:"pointer"},onClick:this.onInnerColumn},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("i",{className:"iconfont icon-three-column",style:{marginRight:20,fontSize:20,verticalAlign:"middle"}}),Object(_shared_language__WEBPACK_IMPORTED_MODULE_21__.a)("markdown-icon-three-column")))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderEditorStatus",e=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_7__.a,{placement:"bottomRight",content:this.renderEditorStatusContent(e),key:"EditorStatus"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{size:"large",shape:"circle",type:"primary",onClick:this.toggleEditMdStatus,style:{position:"absolute",right:30,zIndex:99,top:30}},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("i",{className:"iconfont "+(this.state.editMdStatus?"icon-return":"icon-edit")})))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderRawEditor",e=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(SnippetEditor,{updateFileName:this.updateFileName,key:`${this.state.needReMount}_${this.props.reRenderEditor}`,onRef:e=>this.snippetEditor=e,filename:e.filename,content:e.content,toggleRunScript:this.toggleRunScript,onChange:_=>{this.updateSnippet({content:_},`${e.id}_${e.sid}`)},onChangePreview:async e=>{"two"===this.state.columnLayout&&await this.getMarkdownEditor().updateContent(e)},getSnippetTool:this.getSnippetTool})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderNEditor",e=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(Neditor,{updateFileName:this.updateFileName,filename:e.filename,key:`${this.state.needReMount}_${this.props.reRenderEditor}`,onRef:e=>this.snippetNEditor=e,value:e.content,neditorPath:_shared__WEBPACK_IMPORTED_MODULE_10__.c?"/app/assets/neditor":_util_main_mid_js__WEBPACK_IMPORTED_MODULE_23__.paths.appPath+"/assets/neditor",toggleRunScript:this.toggleRunScript,onChange:lodash__WEBPACK_IMPORTED_MODULE_18___default.a.debounce(_=>{this.toggleRunScript&&this.toggleRunScript(!1),e.content!==_&&this.updateSnippet({content:_},`${e.id}_${e.sid}`)},1500),getSnippetTool:this.getSnippetTool})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderEditorType",e=>"rich"===lodash__WEBPACK_IMPORTED_MODULE_18___default.a.get(e,"env")?"rich":lodash__WEBPACK_IMPORTED_MODULE_18___default.a.endsWith(lodash__WEBPACK_IMPORTED_MODULE_18___default.a.lowerCase(lodash__WEBPACK_IMPORTED_MODULE_18___default.a.get(e,"filename","")),"md")?"markdown":void 0),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderEditor",e=>{const _=[];switch(this.renderEditorType(e)){case"rich":_.push(this.renderNEditor(e));break;case"markdown":const{windowHeight:t,hiddenHeader:a}=this.props,n=t-(a?145:196);_.push(this.renderEditorStatus(!0)),!1===this.state.editMdStatus?_.push(this.renderMarkdownPreview(e.content,n)):!0===this.state.editMdStatus&&"two"===this.state.columnLayout?_.push(react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{key:"columnLayout-two"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{xs:12,style:{height:n}},this.renderRawEditor(e)),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{xs:12,style:{height:n}},this.renderMarkdownPreview(e.content,n)))):_.push(this.renderRawEditor(e));break;default:_.push(this.renderRawEditor(e))}return _}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onChangeTabs",e=>{const _=lodash__WEBPACK_IMPORTED_MODULE_18___default.a.findIndex(this.state.tabs,_=>`${_.id}_${_.sid}`===e);this.setState({sourceFilename:this.state.tabs[_].filename}),this.updateSnippetStatus({activeTab:e})}),this.defaultState={editFilenameVisible:!1,innerCreateVisible:!1,createCodePic:!1,sourceFilename:null,activeTab:"",needReMount:0,editMdStatus:!1,columnLayout:"inner"},this.state={...this.defaultState}}componentDidMount(){const{activeTab:e,tabs:_}=this.props;this.setState({activeTab:e,tabs:_}),window.addEventListener("resize",lodash__WEBPACK_IMPORTED_MODULE_18___default.a.debounce(this.handleResize,500))}componentWillUnmount(){window.removeEventListener("resize",lodash__WEBPACK_IMPORTED_MODULE_18___default.a.debounce(this.handleResize,500))}componentWillReceiveProps(e){const{activeTab:_,tabs:t}=e,a=lodash__WEBPACK_IMPORTED_MODULE_18___default.a.findIndex(t,e=>`${e.id}_${e.sid}`===_);this.setState({..._!==this.state.activeTab&&this.defaultState,...-1!==a&&{sourceFilename:t[a].filename},tabs:t,activeTab:_})}renderMarkdownPreview(e,_){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(MarkdownEditor,{onRef:e=>this.markdownEditor=e,key:`markdown_${this.state.needReMount}_${this.props.reRenderEditor}`,content:e,height:_})}render(){Object(_shared_debug__WEBPACK_IMPORTED_MODULE_22__.a)("[Snippet] rendering...");const{updateContentTimeout:e,banConfig:_,windowHeight:t,hiddenHeader:a}=this.props,{tabs:n}=this.state,{isLoading:r}=this.props;return r||lodash__WEBPACK_IMPORTED_MODULE_18___default.a.isEmpty(n)?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Loading_LoadingPage__WEBPACK_IMPORTED_MODULE_12__.a,{spinning:r}):react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{id:"snippet",className:"jsx-2941520361 snippet"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_Header__WEBPACK_IMPORTED_MODULE_16__.a,{description:n[0].description,activeTab:this.state.activeTab,tags:n[0].tag,link:n[0].link}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_2__.a,{animated:!0,className:"snippet-tab",onChange:this.onChangeTabs,activeKey:this.state.activeTab,type:"editable-card",onEdit:this.onEdit},n.map(n=>react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(TabPane,{tab:this.ornTabTitle(n.filename),key:`${n.id}_${n.sid}`,closable:n.closable},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{xs:24,className:"snippet-config"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{xs:17},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_Config__WEBPACK_IMPORTED_MODULE_15__.a,{tab:n,updateContentTimeout:e,toggleRunScript:this.toggleRunScript,banConfig:_})),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{xs:7,style:{right:9,top:3}},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(ButtonGroup,{style:{float:"right"}},this.renderRunScript(),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{type:"primary",style:{padding:"0px 5px"},onClick:this.toggleCreateCodePic},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Svg__WEBPACK_IMPORTED_MODULE_24__.a,{icon:"icon-ce-code",style:{fontSize:20}})))))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{xs:24},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_ToolBar__WEBPACK_IMPORTED_MODULE_17__.a,{key:"once-work-snippet-tool",onRef:e=>this.snippetTool=e,tab:n,getSnippetEditor:"rich"===n.env?this.getSnippetNEditor:this.getSnippetEditor,windowHeight:t,updateSnippetStatus:this.updateSnippetStatus})),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{xs:24},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{id:"snippet-container",style:{height:t-(a?124:174),width:"inherit"},className:"jsx-2941520361"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"jsx-2941520361 tabPane"},this.renderEditor(n))))))),this.state.innerCreateVisible&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(SnippetInnerCreate,{visible:this.state.innerCreateVisible,activeTab:this.state.activeTab,common:n[0],banConfig:_,toggleRunScript:this.toggleRunScript,toggleView:this.toggleSnippetInnerCreate}),this.state.editFilenameVisible&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(SnippetEditFilename,{visible:this.state.editFilenameVisible,activeTab:this.state.activeTab,onEdit:this.onEdit,toggleView:this.toggleSnippetEditFilename,updateSnippet:this.updateSnippet,sourceFilename:this.state.sourceFilename}),this.state.createCodePic&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(SnippetCreateCodePic,{content:()=>{const e=lodash__WEBPACK_IMPORTED_MODULE_18___default.a.findIndex(n,e=>`${e.id}_${e.sid}`===this.state.activeTab);return n[e]},visible:this.state.createCodePic,activeTab:this.state.activeTab,banConfig:_,toggleRunScript:this.toggleRunScript,toggleView:this.toggleCreateCodePic}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default.a,{id:"2941520361"},".ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab .ant-tabs-close-x{display:none;}"))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Object(dva__WEBPACK_IMPORTED_MODULE_19__.connect)(({layout:{reRenderEditor:e,hiddenHeader:_},snippet:{activeTab:t,runLoading:a,isLoading:n,tabs:r,banConfig:i,updateContentTimeout:o}})=>({activeTab:t,runLoading:a,isLoading:n,tabs:r,banConfig:i,updateContentTimeout:o,reRenderEditor:e,hiddenHeader:_}))(snippet);var reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Neditor,"Neditor","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(SnippetEditor,"SnippetEditor","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(MarkdownEditor,"MarkdownEditor","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(SnippetCreateCodePic,"SnippetCreateCodePic","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(SnippetEditFilename,"SnippetEditFilename","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(SnippetInnerCreate,"SnippetInnerCreate","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(TabPane,"TabPane","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(confirm,"confirm","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(ButtonGroup,"ButtonGroup","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(snippet,"snippet","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx"),reactHotLoader.register(_default,"default","/Users/dxu/job/once/src/renderer/routes/Snippet/index.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))}}]);