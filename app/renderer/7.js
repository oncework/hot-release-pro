(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./src/renderer/routes/Snippet/Editor/MarkdownEditor/Preview.jsx":function(e,_,r){"use strict";(function(e){var t,o=r("./node_modules/highlight.js/lib/index.js"),n=r.n(o),d=r("./node_modules/markdown-it/index.js"),i=r.n(d),a=r("./node_modules/markdown-it-task-lists/index.js"),s=r.n(a),l=r("./node_modules/markdown-it-katex/index.js"),u=r.n(l);(t=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r("./node_modules/react-hot-loader/index.js")).enterModule)&&t(e);const c=i()({highlight:(e,_)=>n.a.highlightAuto(e).value}).use(s.a).use(u.a,{throwOnError:!1,errorColor:" #cc0000"}).use(r("./node_modules/markdown-it-abbr/index.js")).use(r("./node_modules/markdown-it-container/index.js"),"warning").use(r("./node_modules/markdown-it-deflist/index.js")).use(r("./node_modules/markdown-it-emoji/index.js")).use(r("./node_modules/markdown-it-footnote/index.js")).use(r("./node_modules/markdown-it-ins/index.js")).use(r("./node_modules/markdown-it-mark/index.js")).use(r("./node_modules/markdown-it-sub/index.js")).use(r("./node_modules/markdown-it-sup/index.js")),E=c;var h,m;_.a=E,(h=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r("./node_modules/react-hot-loader/index.js")).default)&&(h.register(c,"Md","/code/once/once/src/renderer/routes/Snippet/Editor/MarkdownEditor/Preview.jsx"),h.register(E,"default","/code/once/once/src/renderer/routes/Snippet/Editor/MarkdownEditor/Preview.jsx")),(m=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r("./node_modules/react-hot-loader/index.js")).leaveModule)&&m(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/renderer/routes/Snippet/Editor/MarkdownEditor/index.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var core_js_modules_es6_function_bind__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/core-js/modules/es6.function.bind.js"),core_js_modules_es6_function_bind__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_function_bind__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/core-js/modules/web.dom.iterable.js"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__),_Preview__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/renderer/routes/Snippet/Editor/MarkdownEditor/Preview.jsx"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_shared_debug__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/debug.js"),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/antd/es/message/index.js"),electron__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("electron"),electron__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(electron__WEBPACK_IMPORTED_MODULE_7__),enterModule;enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__("./node_modules/react-hot-loader/index.js")).enterModule,enterModule&&enterModule(module);class MarkdownEditor extends react__WEBPACK_IMPORTED_MODULE_4___default.a.Component{constructor(...e){super(...e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"markdownEditor",react__WEBPACK_IMPORTED_MODULE_4___default.a.createRef()),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"mdHtml",null),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"mdSrc",null),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"permalink",null),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"scrollMap",null),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"state",{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!0,typographer:!0,_highlight:!0,_strict:!1,_view:"html",content:""}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"updateContent",async e=>{this.removeALink(),this.removeAnchor(),await this.setStateAsync({content:e}),this.onALink(),this.onAnchor()}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"listenLink",(e,_)=>{_.preventDefault(),electron__WEBPACK_IMPORTED_MODULE_7__.shell.openExternal(e)}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"listenAnchor",e=>{e.preventDefault(),antd__WEBPACK_IMPORTED_MODULE_6__.a.warning("Function not implemented, just waiting...")}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"onALink",()=>{this.markdownEditor.current.querySelectorAll('a[href^="http"]').forEach(e=>e.addEventListener("click",this.listenLink.bind(this,e.href)))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"removeALink",()=>{this.markdownEditor.current.querySelectorAll('a[href^="http"]').forEach(e=>e.removeEventListener("click",this.listenLink.bind(this,e.href)))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"onAnchor",()=>{this.markdownEditor.current.querySelectorAll('a[href^="#"]').forEach(e=>e.addEventListener("click",this.listenAnchor))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this,"removeAnchor",()=>{this.markdownEditor.current.querySelectorAll('a[href^="#"]').forEach(e=>e.removeEventListener("click",this.listenAnchor))})}setStateAsync(e){return new Promise(_=>{this.setState(e,_)})}async componentDidMount(){this.props.onRef(this),await this.setStateAsync({content:this.props.content||""}),this.onALink(),this.onAnchor()}componentWillUnmount(){this.removeALink(),this.removeAnchor()}render(){return Object(_shared_debug__WEBPACK_IMPORTED_MODULE_5__.a)("[MarkdownEditor] rendering..."),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{ref:this.markdownEditor,style:{height:this.props.height},className:"editor-area",dangerouslySetInnerHTML:{__html:`<div class='markdown-editor' style='height: ${this.props.height}px; overflow: auto;'>${_Preview__WEBPACK_IMPORTED_MODULE_3__.a.render(this.state.content)}</div>`}})}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=MarkdownEditor;var reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__("./node_modules/react-hot-loader/index.js")).default,reactHotLoader&&(reactHotLoader.register(MarkdownEditor,"MarkdownEditor","/code/once/once/src/renderer/routes/Snippet/Editor/MarkdownEditor/index.jsx"),reactHotLoader.register(_default,"default","/code/once/once/src/renderer/routes/Snippet/Editor/MarkdownEditor/index.jsx")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__("./node_modules/react-hot-loader/index.js")).leaveModule,leaveModule&&leaveModule(module)}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))}}]);