(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"./src/renderer/routes/Snippet/Editor/Neditor/AudioUploader.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Button.js"),_Input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Input.js"),_Label__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Label.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_Select__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Select.js"),_Tag__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Tag.js"),_Upload__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Upload.js"),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const style={paramsConfig:{paddingBottom:"10px",borderBottom:"1px solid rgb(217, 217, 217)",display:"flex",flexWrap:"wrap"},insertTitle:{fontSize:"14px",paddingRight:"10px",color:"rgba(0, 0, 0, 0.65)"},sourceList:{margin:"10px 10px 10px 0",border:"1px dashed rgb(217, 217, 217)",borderRadius:"4px"},configTitle:{display:"block",fontSize:"14px",margin:"10px 0",paddingRight:"10px",color:"rgba(0, 0, 0, 0.65)"},warnInfo:{display:"inline-block",width:"100%",margin:"5px",textAlign:"center",fontSize:"12px",color:"#f04134"}},linkRegx=/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9,_-](\?)?)*)*$/i;let timeoutInstance=null;class UploadModal extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent{constructor(...e){super(...e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"state",{sources:[],currentSource:"",width:400,height:400,controls:"true",autoplay:"false",muted:"false",loop:"false",poster:"",name:"",author:"",errorMsg:"",errorMsgVisible:!1}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateCurrentSource",e=>{this.setState({currentSource:e.target.value})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"addSource",()=>{const{sources:e,currentSource:t}=this.state,_=e.concat([t]);""===t?this.showErrorMsg("链接不能为空"):linkRegx.test(t)?-1!==e.indexOf(t)?this.showErrorMsg("链接已存在"):this.setState({sources:_,currentSource:""},()=>{this.props.onChange&&this.props.onChange(this.generateHtml())}):this.showErrorMsg("非法的链接")}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"removeSource",e=>{const t=this.state.sources.concat([]);t.splice(e,1),this.setState({sources:t})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"upload",e=>{const{upload:t}=this.props;t&&t(e).then(e=>{this.setState({currentSource:e})}).catch(e=>{e.constructor===Error?this.showErrorMsg(e.message):this.showErrorMsg(e)})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"showErrorMsg",e=>{this.setState({errorMsg:e,errorMsgVisible:!0}),clearTimeout(timeoutInstance),timeoutInstance=setTimeout(()=>{this.setState({errorMsg:"",errorMsgVisible:!1})},4e3)}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getFileType",(e,t)=>{const _=e.match(/\.(\w+)$/,"i");return _?_[1].toLowerCase():"mp3"}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"generateHtml",()=>{const{sources:e,controls:t,autoplay:_,loop:r,poster:a,name:o,author:n}=this.state,l=JSON.stringify({poster:a,name:o,author:n}),d=e.length;if(d>0){let a="",o="";return o+="false"===t?"":' controls="true" ',o+="false"===_?"":' autoplay="true" ',o+="false"===r?"":' loop="true" ',1===d?a=`<audio src="${e[0]}" ${o} data-extra='${l}'>你的浏览器不支持 audio 标签</audio>`:(a=`<audio ${o} data-extra='${l}'>`,e.forEach(e=>{a+=`<source src=${e} type="audio/${this.getFileType(e,"audio")}">`}),a+="你的浏览器不支持 audio 标签</audio>"),a+"<p></p>"}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"closeModal",()=>{this.props.closeModal()}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"changeConfig",(e,t)=>{let _=e.target.value;"width"===t||"height"===t?isNaN(parseInt(_))&&(_=parseInt(_)):-1!==["controls","autoplay","muted","loop"].indexOf(t)&&(_=!!_),this.setState({[t]:_},()=>{this.props.onChange&&this.props.onChange(this.generateHtml())})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderSourceList",()=>{const{sources:e}=this.state;if(e.length>0){return e.map((e,t)=>react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Tag__WEBPACK_IMPORTED_MODULE_6__.a,{value:e,key:e,index:t,onRemove:this.removeSource}))}return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:style.warnInfo},"至少添加一个链接")}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderAudioConfig",()=>{const{controls:e,autoplay:t,loop:_,poster:r,name:a,author:o}=this.state;return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("form",{style:style.paramsConfig},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"controls"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_5__.a,{defaultValue:e,onChange:e=>{this.changeConfig(e,"controls")}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"true"},"true"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"false"},"false"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"autoplay"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_5__.a,{defaultValue:t,onChange:e=>{this.changeConfig(e,"autoplay")}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"true"},"true"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"false"},"false"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"loop"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_5__.a,{defaultValue:_,onChange:e=>{this.changeConfig(e,"loop")}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"true"},"true"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"false"},"false"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"poster"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_2__.a,{type:"text",defaultValue:r,onChange:e=>{this.changeConfig(e,"poster")}})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"name"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_2__.a,{type:"text",defaultValue:a,onChange:e=>{this.changeConfig(e,"name")}})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"author"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_2__.a,{type:"text",defaultValue:o,onChange:e=>{this.changeConfig(e,"author")}})))})}render(){const{currentSource:e,errorMsg:t,errorMsgVisible:_}=this.state,{progress:r}=this.props;return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:style.insertTitle},"插入链接"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_2__.a,{style:{width:"300px"},type:"text",value:e,onChange:this.updateCurrentSource}),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_1__.a,{onClick:this.addSource},"添加"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Upload__WEBPACK_IMPORTED_MODULE_7__.a,{onChange:this.upload})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:{...style.warnInfo,display:r&&-1!==r?"block":"none"}},r,"%"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:{...style.warnInfo,display:_?"block":"none"}},t)),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{style:style.sourceList},this.renderSourceList()),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:style.configTitle},"参数配置"),this.renderAudioConfig(),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{style:{textAlign:"center",padding:"20px 10px 0 10px"}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("audio",{src:e,controls:"controls",style:{width:"400px"}},"你的浏览器不支持 audio 标签")))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=UploadModal;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(style,"style","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/AudioUploader.js"),reactHotLoader.register(linkRegx,"linkRegx","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/AudioUploader.js"),reactHotLoader.register(timeoutInstance,"timeoutInstance","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/AudioUploader.js"),reactHotLoader.register(UploadModal,"UploadModal","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/AudioUploader.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/AudioUploader.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/Button.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const buttonStyle={height:"24px",fontWeight:"500",cursor:"pointer",padding:"0 15px",fontSize:"12px",color:"rgba(0,0,0,.65)",border:"1px solid #d9d9d9",marginLeft:"10px"};class Button extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{render(){const{style:e,children:t,onClick:_}=this.props,r={...buttonStyle,...e};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{style:r,onClick:_},t)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Button;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(buttonStyle,"buttonStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Button.js"),reactHotLoader.register(Button,"Button","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Button.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Button.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/Input.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const inputStyle={height:"18px",width:"72px",boxSizing:"content-box",fontSize:"12px",lineHeight:"18px",color:"rgba(0,0,0,.65)",backgroundColor:"#fff",border:"1px solid #d9d9d9",borderRadius:"4px",padding:"1px 3px",margin:"0 10px"};class Input extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{render(){const{type:e,value:t,onChange:_,style:r}=this.props,a={...inputStyle,...r};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{style:a,type:e,value:t,onChange:_})}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Input;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(inputStyle,"inputStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Input.js"),reactHotLoader.register(Input,"Input","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Input.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Input.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/Label.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const labelStyle={display:"block",width:"165px",color:"rgba(0, 0, 0, 0.65)",marginRight:"20px",marginBottom:"10px"},labelName={display:"inline-block",width:"50px"};class Label extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{render(){const{style:e,children:t,name:_}=this.props,r={...labelStyle,...e};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",{style:r},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:labelName},_),t)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Label;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(labelStyle,"labelStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Label.js"),reactHotLoader.register(labelName,"labelName","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Label.js"),reactHotLoader.register(Label,"Label","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Label.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Label.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/Link.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_Input__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Input.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const inputStyle={width:"300px"},spanStyle={fontSize:"14px",color:"rgba(0, 0, 0, 0.65)",display:"inline-block",width:"80px"},formItmeStyle={marginBottom:"10px"};class Link extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(...e){super(...e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"state",{text:"",link:"",title:"",newTab:!1,showTips:!1}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"hasProtocol",e=>!(!e.match(/^http:|https:/)&&!e.match(/^\/\//))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"generateHtml",()=>{const{text:e,title:t,newTab:_}=this.state;let r=this.state.link;if(r){let a="";return this.hasProtocol(r)||(r="http://"+r),a+=`<a href="${r}" target=${_?"_blank":"_self"} title="${t}">${e||r}</a>`,a}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"changeConfig",(e,t)=>{let _=e.target.value;if(-1!==["newTab"].indexOf(t)&&(_=!!_),"link"==t&&(this.hasProtocol(_)?this.setState({showTips:!1}):this.setState({showTips:!0})),"newTab"==t)return this.setState({newTab:!this.state.newTab});this.setState({[t]:_},()=>{this.props.onChange&&this.props.onChange(this.generateHtml())})})}render(){const{text:e,link:t,title:_,newTab:r,showTips:a}=this.state;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("form",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:formItmeStyle},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{style:spanStyle},"文本内容："),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_1__.a,{type:"text",style:inputStyle,value:e,onChange:e=>this.changeConfig(e,"text")})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:formItmeStyle},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{style:spanStyle},"链接地址："),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_1__.a,{type:"text",style:inputStyle,value:t,onChange:e=>this.changeConfig(e,"link")})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:formItmeStyle},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{style:spanStyle},"标题："),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_1__.a,{type:"text",style:inputStyle,value:_,onChange:e=>this.changeConfig(e,"title")})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:formItmeStyle},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{style:{color:"rgba(0, 0, 0, 0.65)",fontSize:"14px"}},"是否在新窗口打开："),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"checkbox",checked:r,onChange:e=>this.changeConfig(e,"newTab")})),a&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",{style:{fontSize:"14px",color:"red"}},"您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀"))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Link;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(inputStyle,"inputStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Link.js"),reactHotLoader.register(spanStyle,"spanStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Link.js"),reactHotLoader.register(formItmeStyle,"formItmeStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Link.js"),reactHotLoader.register(Link,"Link","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Link.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Link.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),_shared_language__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/language/index.js"),path__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("path"),path__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__),_Link__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Link.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_VideoUploader__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/VideoUploader.js"),_AudioUploader__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/AudioUploader.js"),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/utils.js"),_helper__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/renderer/routes/Snippet/Editor/helper.js"),_shared_tmpl__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/tmpl/index.js"),antd__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/antd/es/modal/index.js"),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const confirm=antd__WEBPACK_IMPORTED_MODULE_12__.a.confirm,MODE={INTERNAL_MODAL:"internal-modal",MODAL:"modal",NORMAL:"normal"};function isModalMode(e){return e===MODE.INTERNAL_MODAL||e===MODE.MODAL}const simpleInsertCodeIcon="data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB9klEQVRYR+2Wy23CQBCGZxwUASdKgA7IIdIukhF0QCoI6YAS6CB0EDpIOgjCEbs3nApCB+EEKFI80ToYgR/7IEhIEb4hvPN/8/jHi3DmB8+sDxeA/1GBdosNiTAMhHhxnamTVMDnfAEAo0CI0ckBOs1mbRKGy6LArdZtswSl+VdEDSmlAtk9prPqRW0FfMb66OGjt1o3iiB8zgcAMAiEqKfFo0p5QQSDQMpxUQKFAFvxJ4roQRfA52yCgOFUCAVy8NjEyAWwOaiUVImjauWTCO6KBtAUKwNgOrCfos95DxGepzNh08rcah4cdBFXID5nY0CsBTPRM01/UewdgKu4EmxztiTAoa398jRigGPEdfbTVSOthUkfTdOeDrrdfv20/UytSCeMKhAQ3HvrzY1u4WQs1mIhEk7y7GeCiN1TKc8J8R3Vj+9qWXmZvNW6awOR2C+KqPsm5cQkmFlQ1corAeHVatOJZ8AVIu4jwmgqZO0v4irZnQtcIFzslwBuq7bLPKn0wR6whYjtZ9jxurLvtzmzwUwQrvYryjwBzF2hOojYfgC9YCabpv6bxLWf4yII39J+NuLG+8BvkPJgOpND9TJjrH7t4Yet/VS1vNVmpLO205XsWPvpWuUGoD6/AJ1jtp/zjcg0YKf636kCpxLdj3MBOHsFfgBLLaBN8r49lAAAAABJRU5ErkJggg==",uploadAudioIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACBUlEQVRYR+1VwXHbMBC8qyBxBXI6cCqwUkEOFUSuIHYFliuwUoGVCrAdWOlA6UCuIOpgPashNRQIOtJkHH2ID2eIA25vD7vndublZ85vI4CRgZGBkxmIiI9mdm9mMzNbAHgYknJEzM3sA4C7oZiTAEREmNmTuwvEi5lNSH4GsK4liIiFu38nuQRwU4s5CkBTtRILwAvJWzPbuvszyS8AVhFxZWbXAH50E0XE0t2/kbwBsCxBVAFExKW7TxRMUhfPVTVJXT4HsI2IaQHg1t0fFQNAAPcrpbQhqVZc/BWAaHb3XASq6pkqbf+XAPQ/pQQz+9qy0omdufsTyQRAMfvVYyClpCSXLc1N5FpVF9QeMKA9tcrd/5D8CUCPdLc6/3vsDAGwnPP0rUFVY6BhYUVyAuBT0QYVsC7vfQ8AuzbknA/ubpjtFfYeANTCq5yzpNp9iJLq9n8wIKpXOWdJtguA5dvQZpUB9dDdd1pXEMnfRz5CyfW+1HyrrJoX9ADUZEhyY2YykkEZds79KmnuyPOiLGTIiNQ/GZCWTGkhTyep78OAEck/Zo1f7CXbUUtPgtUW1KTX6Fg2KpPR5fL1AyseONfODhnZtKz+aAAdQ1GVYkFDaOPuMqzBYdRITxZeTX4ygNbVmtkgujWONXKrqxliVqu8PXDUNHzLEf91bwQwMjAycHYGXgGLbI8w70amwwAAAABJRU5ErkJggg==";class ReactNeditor extends react__WEBPACK_IMPORTED_MODULE_6___default.a.Component{constructor(e){super(e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"createScript",e=>{const t=window.document.querySelectorAll("script"),_=t.length;let r=0;const a=window.location.origin+e;return new Promise((o,n)=>{for(r=0;r<_;r++){var l=t[r].src;l&&l===a&&t[r].parentElement.removeChild(t[r])}const d=document.createElement("script");d.src=e,d.onload=o,document.body.appendChild(d)})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"registerImageUpload",()=>this.registerPlugin(()=>({menuText:"图片上传",cssRules:"background-position: -726px -77px;",mode:MODE.NORMAL,onIconClick:()=>{this.tempfileInput.click()}}))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"registerSimpleInsertCode",()=>this.registerPlugin(e=>({menuText:"插入代码",cssRules:"background: url("+simpleInsertCodeIcon+") !important; background-size: 20px 20px !important;",mode:MODE.NORMAL,onIconClick:()=>{e.focus(),e.execCommand("insertcode")}}))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"registerUploadVideo",()=>{const{uploadVideo:e,progress:t}=this.props;return this.registerPlugin(_=>({menuText:"上传视频",cssRules:"background-position: -320px -20px;",mode:MODE.INTERNAL_MODAL,render:()=>react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_VideoUploader__WEBPACK_IMPORTED_MODULE_7__.a,{upload:e,progress:t,onChange:this.videoChange}),onConfirm:()=>{_.execCommand("insertparagraph"),_.execCommand("inserthtml",this.state.videoHtml,!0),_.execCommand("insertparagraph"),_.execCommand("insertparagraph")}}))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"registerUploadAudio",()=>{const{uploadAudio:e,progress:t}=this.props;return this.registerPlugin(_=>({menuText:"上传音频",cssRules:"background: url("+uploadAudioIcon+") !important; background-size: 20px 20px !important;",mode:MODE.INTERNAL_MODAL,render:()=>react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_AudioUploader__WEBPACK_IMPORTED_MODULE_8__.a,{upload:e,progress:t,onChange:this.audioChange}),onConfirm:()=>{_.execCommand("insertparagraph"),_.execCommand("inserthtml",this.state.audioHtml,!0),_.execCommand("insertparagraph"),_.execCommand("insertparagraph")}}))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"registerLink",()=>this.registerPlugin(e=>({menuText:"超链接",cssRules:"background-position: -504px 0px;",mode:MODE.INTERNAL_MODAL,render:()=>react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Link__WEBPACK_IMPORTED_MODULE_4__.a,{onChange:this.linkChange}),onConfirm:()=>{e&&e.execCommand("inserthtml",this.state.linkHtml,!0)}}))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"videoChange",e=>{this.setState({videoHtml:e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"audioChange",e=>{this.setState({audioHtml:e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"linkChange",e=>{this.setState({linkHtml:e})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"uploadImage",e=>{const{uploadImage:t}=this.props;if(t){const _=t(e);_&&"function"==typeof _.then&&_.then(e=>{e instanceof Array?e.forEach(e=>{this.insertImage(e)}):this.insertImage(e)})}this.tempfileInput.value=""}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"insertImage",e=>{this.ueditor&&(this.ueditor.focus(),this.ueditor.execCommand("inserthtml",'<img src="'+e+'" />'))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onInsertText",e=>{if(e.indexOf("languageType_")>-1){const t=path__WEBPACK_IMPORTED_MODULE_3___default.a.extname(this.props.filename).split(".")[1],_=this.state.changeFilenameType[e.split("languageType_")[1]],r=this;if(t!==_&&r.props.updateFileName){const e=path__WEBPACK_IMPORTED_MODULE_3___default.a.parse(this.props.filename).name+"."+_;confirm({title:Object(_shared_language__WEBPACK_IMPORTED_MODULE_2__.a)("once.basic.tip"),content:Object(_shared_language__WEBPACK_IMPORTED_MODULE_2__.a)("snippet.change.language.tip")+`\n ${this.props.filename} -> ${e}`,okText:Object(_shared_language__WEBPACK_IMPORTED_MODULE_2__.a)("once.basic.yes"),okType:"danger",cancelText:Object(_shared_language__WEBPACK_IMPORTED_MODULE_2__.a)("once.basic.no"),onOk(){r.props.updateFileName(e)}})}this.setState({language:e.split("languageType_")[1]})}else this.ueditor&&(this.ueditor.focus(),this.ueditor.execCommand("inserthtml",`<span class='ant-tag-custom ant-tag-green'>${e}</span>`))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"handlePasteImage",()=>{const{pasteImageStart:e,handlePasteImage:t,pasteImageDone:_}=this.props;if(!t)return;const r=this.ueditor.getContent(),a=_utils__WEBPACK_IMPORTED_MODULE_9__.a(r);"[object Array]"===Object.prototype.toString.call(a)&&(this.pasteImageAmount+=a.length,e&&e(this.pasteImageAmount),a.forEach(e=>{const r=t(e);r&&"function"==typeof r.then&&r.then(t=>{--this.pasteImageAmount,0===this.pasteImageAmount&&_&&_();const r=_utils__WEBPACK_IMPORTED_MODULE_9__.b(this.ueditor.getContent(),e,t);this.ueditor.setContent(r)})}))}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getVisibleName",e=>e+"VisibleModal"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getRegisterUIName",e=>`${e}-${this.containerID}`),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"initEditor",()=>{const{config:e,plugins:t,onChange:_,getRef:r,onReady:a}=this.props;this.ueditor=e?window.UE.getEditor(this.containerID,e):window.UE.getEditor(this.containerID),this.ueditor._react_ref=this,this.ueditor.ready(()=>{this.ueditor.addListener("contentChange",()=>{this.props.toggleRunScript&&this.props.toggleRunScript(!0);const e=this.ueditor.getContent();this.potentialTypes=Object(_helper__WEBPACK_IMPORTED_MODULE_10__.b)(e),this.setState({content:e}),_&&_(e)}),this.ueditor.addListener("afterpaste",()=>{this.handlePasteImage()}),window.UE.dom.domUtils.on(this.ueditor.document,"click",e=>{const t=e.target.innerText;if(t.match(_shared_tmpl__WEBPACK_IMPORTED_MODULE_11__.a)){const e=this.potentialTypes.find(e=>lodash__WEBPACK_IMPORTED_MODULE_1___default.a.unescape(e.abbr)===t);if(e){const t=e.abbr.split("&")[0].split("%")[1];console.log(t,e),this.props.getSnippetTool().onFillInContent(t,e)}}}),this.ueditor.setContent(this.state.content),a&&a()})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateExistFillIn",(e,t)=>{const _=this.ueditor.getContent(),r=Object(_helper__WEBPACK_IMPORTED_MODULE_10__.c)(_,t.index,t.index+t.length,e);this.ueditor.setContent(r)}),this.potentialTypes=[],this.ueditor=null,this.isContentChangedByWillReceiveProps=!1,this.tempfileInput=null,this.containerID="reactueditor"+Math.random().toString(36).substr(2),this.fileInputID="fileinput"+Math.random().toString(36).substr(2),this.pasteImageAmount=0,this.state={videoSource:"",audioSource:"",extendControls:this.props.extendControls?this.props.extendControls:[],videoHtml:"",audioHtml:"",pluginsWithCustomRender:[],changeFilenameType:_helper__WEBPACK_IMPORTED_MODULE_10__.a,content:""},this.props.onRef(this)}componentDidMount(){const{neditorPath:e}=this.props;window.UE||window.UE_LOADING_PROMISE||(window.UE_LOADING_PROMISE=this.createScript(e+"/neditor.config.js").then(()=>this.createScript(e+"/neditor.all.js")).then(()=>this.createScript(e+"/neditor.service.js")).then(()=>this.createScript(e+"/neditor.parse.js")).then(()=>this.createScript(e+"/third-party/jquery-1.10.2.min.js"))),window.UE_LOADING_PROMISE.then(()=>{this.tempfileInput=document.getElementById(this.fileInputID),this.initEditor()})}componentWillReceiveProps(e){this.isContentChangedByWillReceiveProps||(this.setState({content:e.value}),this.isContentChangedByWillReceiveProps=!0,this.ueditor&&this.ueditor.ready(()=>{this.ueditor.setContent(e.value)}))}shouldComponentUpdate(e){const{value:t}=e;return""===this.state.content||this.state.content!==t}componentWillUnmount(){this.ueditor&&this.ueditor.destroy()}registerInternalPlugin(e){switch(e){case"uploadImage":return this.registerImageUpload();case"insertCode":return this.registerSimpleInsertCode();case"uploadVideo":return this.registerUploadVideo();case"uploadAudio":return this.registerUploadAudio();case"insertLink":return this.registerLink()}}registerPlugin(e){const t=Math.random().toString(36).slice(2);window.UE.registerUI(t,(_,r)=>{const a=e(_);a.mode||(a.mode=MODE.MODAL);var o=new window.UE.ui.Button({name:r,title:a.menuText,cssRules:a.cssRules||"",onclick:isModalMode(a.mode)?()=>{this.setState({[this.getVisibleName(t)]:!0}),a.onIconClick&&a.onIconClick()}:a.onIconClick});return a.render&&this.setState(e=>({pluginsWithCustomRender:[...e.pluginsWithCustomRender,{name:t,...a}]})),o},void 0,this.containerID)}render(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("script",{id:this.containerID,name:this.containerID,type:"text/plain"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{type:"file",className:"react-neditor",id:this.fileInputID,onChange:this.uploadImage,style:{visibility:"hidden",width:0,height:0,margin:0,padding:0,fontSize:0}}))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(ReactNeditor,"propTypes",{value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,neditorPath:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,plugins:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,uploadImage:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,getRef:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,multipleImagesUpload:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,onReady:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,pasteImageStart:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,handlePasteImage:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,pasteImageDone:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,extendControls:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array,debug:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(ReactNeditor,"defaultProps",{value:"",multipleImagesUpload:!1,extendControls:[],debug:!1});const _default=ReactNeditor;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(confirm,"confirm","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js"),reactHotLoader.register(MODE,"MODE","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js"),reactHotLoader.register(isModalMode,"isModalMode","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js"),reactHotLoader.register(simpleInsertCodeIcon,"simpleInsertCodeIcon","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js"),reactHotLoader.register(uploadAudioIcon,"uploadAudioIcon","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js"),reactHotLoader.register(ReactNeditor,"ReactNeditor","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/Select.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const selectStyle={height:"22px",width:"80px",fontSize:"14px",color:"rgba(0,0,0,.65)",backgroundColor:"#fff",border:"1px solid #d9d9d9",borderRadius:"4px",marginLeft:"10px"};class Select extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{render(){const{style:e,children:t,defaultValue:_,onChange:r}=this.props,a={...selectStyle,...e};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",{style:a,defaultValue:_,onChange:r},t)}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Select;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(selectStyle,"selectStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Select.js"),reactHotLoader.register(Select,"Select","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Select.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Select.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/Tag.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const tagStyle={wrapper:{display:"inline-block",lineHeight:"22px",height:"22px",padding:"0 0 0 8px",borderRadius:"4px",border:"1px solid #e9e9e9",backgroundColor:"#f3f3f3",fontSize:"13px",color:"rgba(0, 0, 0, 0.65)",margin:"5px"},text:{display:"inline-block",maxWidth:"500px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},icon:{display:"inline-block",width:"25px",textAlign:"center",float:"right",cursor:"pointer"}};class Tag extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{render(){const{value:e,index:t,onRemove:_,style:r,key:a}=this.props,o={...tagStyle.wrapper,...r};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:o,key:a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:tagStyle.text},e),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i",{style:tagStyle.icon,onClick:()=>{_(t)}},"×"))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Tag;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(tagStyle,"tagStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Tag.js"),reactHotLoader.register(Tag,"Tag","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Tag.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Tag.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/Upload.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const uploadStyle={height:"26px",width:"80px",display:"inline-block",boxSizing:"border-box",lineHeight:"25px",textAlign:"center",borderRadius:"4px",border:"1px solid transparent",fontSize:"12px",fontWeight:"500",color:"#fff",backgroundColor:"#108ee9",cursor:"pointer",marginLeft:"10px"};class Upload extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent{constructor(...e){super(...e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"onInputChange",e=>{const t=this.props;t.onChange&&t.onChange(e),e.target.value=""})}render(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label",{style:uploadStyle},"直接上传",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input",{type:"file",onChange:this.onInputChange,style:{display:"none"}}))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=Upload;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(uploadStyle,"uploadStyle","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Upload.js"),reactHotLoader.register(Upload,"Upload","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Upload.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/Upload.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/VideoUploader.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Button.js"),_Input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Input.js"),_Label__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Label.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_Select__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Select.js"),_Tag__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Tag.js"),_Upload__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/renderer/routes/Snippet/Editor/Neditor/Upload.js"),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const style={paramsConfig:{paddingBottom:"10px",borderBottom:"1px solid rgb(217, 217, 217)",display:"flex",flexWrap:"wrap"},insertTitle:{fontSize:"14px",paddingRight:"10px",color:"rgba(0, 0, 0, 0.65)"},sourceList:{margin:"10px 10px 10px 0",border:"1px dashed rgb(217, 217, 217)",borderRadius:"4px"},configTitle:{display:"block",fontSize:"14px",margin:"10px 0",paddingRight:"10px",color:"rgba(0, 0, 0, 0.65)"},warnInfo:{display:"inline-block",width:"100%",margin:"5px",textAlign:"center",fontSize:"12px",color:"#f04134"}},linkRegx=/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9,_-](\?)?)*)*$/i;let timeoutInstance=null;class UploadModal extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent{constructor(...e){super(...e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"state",{sources:[],currentSource:"",width:400,height:400,controls:"true",autoplay:"false",muted:"false",loop:"false",poster:"",name:"",author:"",errorMsg:"",errorMsgVisible:!1}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateCurrentSource",e=>{this.setState({currentSource:e.target.value})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"addSource",()=>{const{sources:e,currentSource:t}=this.state,_=e.concat([t]);""===t?this.showErrorMsg("链接不能为空"):linkRegx.test(t)?-1!==e.indexOf(t)?this.showErrorMsg("链接已存在"):this.setState({sources:_,currentSource:""},()=>{this.props.onChange&&this.props.onChange(this.generateHtml())}):this.showErrorMsg("非法的链接")}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"removeSource",e=>{const t=this.state.sources.concat([]);t.splice(e,1),this.setState({sources:t})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"upload",e=>{const{upload:t}=this.props;t&&t(e).then(e=>{this.setState({currentSource:e})}).catch(e=>{e.constructor===Error?this.showErrorMsg(e.message):this.showErrorMsg(e)})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"showErrorMsg",e=>{this.setState({errorMsg:e,errorMsgVisible:!0}),clearTimeout(timeoutInstance),timeoutInstance=setTimeout(()=>{this.setState({errorMsg:"",errorMsgVisible:!1})},4e3)}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getFileType",(e,t)=>{const _=e.match(/\.(\w+)$/,"i");return _?_[1].toLowerCase():"mp4"}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"generateHtml",()=>{const{sources:e,width:t,height:_,controls:r,autoplay:a,muted:o,loop:n}=this.state,l=e.length;if(l>0){let d="",i="";return i+="false"===r?"":' controls="true" ',i+="false"===a?"":' autoplay="true" ',i+="false"===n?"":' loop="true" ',i+="false"===o?"":" muted ",1===l?d=`<video src="${e[0]}" width="${t}" height="${_}" ${i}>你的浏览器不支持 video 标签</video>`:(d=`<video width="${t}" height="${_}" ${i}>`,e.forEach(e=>{d+=`<source src=${e} type="video/${this.getFileType(e,"video")}"}>`}),d+="你的浏览器不支持 video 标签</video>"),d+"<p></p>"}}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"changeConfig",(e,t)=>{let _=e.target.value;"width"===t||"height"===t?isNaN(parseInt(_))&&(_=parseInt(_)):-1!==["controls","autoplay","muted","loop"].indexOf(t)&&(_=!!_),this.setState({[t]:_},()=>{this.props.onChange&&this.props.onChange(this.generateHtml())})}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderSourceList",()=>{const{sources:e}=this.state;if(e.length>0){return e.map((e,t)=>react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Tag__WEBPACK_IMPORTED_MODULE_6__.a,{value:e,key:e,index:t,onRemove:this.removeSource}))}return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:style.warnInfo},"至少添加一个链接")}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"renderVideoConfig",()=>{const{width:e,height:t,controls:_,autoplay:r,muted:a,loop:o}=this.state;return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("form",{style:style.paramsConfig},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"width"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_2__.a,{type:"number",defaultValue:e,onChange:e=>{this.changeConfig(e,"width")}})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"height"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_2__.a,{type:"number",defaultValue:t,onChange:e=>{this.changeConfig(e,"height")}})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"controls"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_5__.a,{defaultValue:_,onChange:e=>{this.changeConfig(e,"controls")}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"true"},"true"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"false"},"false"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"autoplay"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_5__.a,{defaultValue:r,onChange:e=>{this.changeConfig(e,"autoplay")}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"true"},"true"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"false"},"false"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"muted"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_5__.a,{defaultValue:a,onChange:e=>{this.changeConfig(e,"muted")}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"true"},"true"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"false"},"false"))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Label__WEBPACK_IMPORTED_MODULE_3__.a,{name:"loop"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_5__.a,{defaultValue:o,onChange:e=>{this.changeConfig(e,"loop")}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"true"},"true"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option",{value:"false"},"false"))))})}render(){const{currentSource:e,errorMsg:t,errorMsgVisible:_}=this.state,{progress:r}=this.props;return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:style.insertTitle},"插入链接"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_2__.a,{style:{width:"300px"},type:"text",value:e,onChange:this.updateCurrentSource}),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_1__.a,{onClick:this.addSource},"添加"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Upload__WEBPACK_IMPORTED_MODULE_7__.a,{onChange:this.upload})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:{...style.warnInfo,display:r&&-1!==r?"block":"none"}},r,"%"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:{...style.warnInfo,display:_?"block":"none"}},t)),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{style:style.sourceList},this.renderSourceList()),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span",{style:style.configTitle},"参数配置"),this.renderVideoConfig(),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{style:{textAlign:"center",padding:"20px 10px 0 10px"}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("video",{src:e,controls:"controls",style:{width:"400px",height:"250px",backgroundColor:"#000"}},"你的浏览器不支持 video 标签")))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const _default=UploadModal;var reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(style,"style","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/VideoUploader.js"),reactHotLoader.register(linkRegx,"linkRegx","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/VideoUploader.js"),reactHotLoader.register(timeoutInstance,"timeoutInstance","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/VideoUploader.js"),reactHotLoader.register(UploadModal,"UploadModal","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/VideoUploader.js"),reactHotLoader.register(_default,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/VideoUploader.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/renderer/routes/Snippet/Editor/Neditor/index.js":function(e,t,_){"use strict";_.r(t),function(e){var r,a=_("./src/renderer/routes/Snippet/Editor/Neditor/ReactNeditor.js");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=a.a;var n,l;t.default=o,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(o,"default","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/index.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}.call(this,_("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/renderer/routes/Snippet/Editor/Neditor/utils.js":function(e,t,_){"use strict";(function(e){var r;_.d(t,"a",(function(){return n})),_.d(t,"b",(function(){return l})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var a,o;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function n(e){const t=/src=['"]?([^'"]*)['"]?/i,_=e.match(/<img.*?(?:>|\/>)/gi),r=[];if(!_)return e;for(let e=0;e<_.length;e++){const a=_[e].match(t)[1];a&&r.push(a)}return r}function l(e,t,_){return e.replace(/<img.*?src="(.*?)".*?\/?>/gi,(function(e,r){return r===t?e.replace(r,_):e}))}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(n,"extractImageSource","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/utils.js"),a.register(l,"replaceImageSource","/Users/dxu/my/once/src/renderer/routes/Snippet/Editor/Neditor/utils.js")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,_("./node_modules/webpack/buildin/harmony-module.js")(e))}}]);